<% flash.each do |type, message| %>
  <% icon =
    case type.to_sym
    when :notice
      '<svg class="w-5 h-5 mr-2 flex-shrink-0 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
      </svg>'
    when :alert
      '<svg class="w-5 h-5 mr-2 flex-shrink-0 text-white" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01M4.93 4.93l14.14 14.14" />
      </svg>'
    else
      ''
    end.html_safe
  %>

  <div data-controller="flash"
       data-flash-duration-value="4000"
       class="fixed top-4 right-4 z-50 px-4 py-3 rounded shadow-lg text-white flex items-center max-w-sm transform
              transition-opacity duration-300 ease-out
              <%=
                case type.to_sym
                when :notice then 'bg-green-600'
                when :alert  then 'bg-red-600'
                else 'bg-gray-700'
                end
              %>">

    <%= icon %>
    <span><%= message %></span>
  </div>
<% end %>